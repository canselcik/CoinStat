<html>
  <head>
    <script>
      function appendToDiv(divName, text){
        var div = document.getElementById(divName);
        if(div == null)
          return;
        div.innerHTML = div.innerHTML + "<p>" + text + "</p>";
      }
      function onMessage(event){
        appendToDiv("output", event.data);
      }
      function onOpen(){
        appendToDiv("output", "Connection established");
      }
      function onError(event){
        appendToDiv("output", "An error occurred with websockets");
      }

      function initialize(){
        if ("WebSocket" in window == false){
          alert("Your browser doesn't support WebSocket, cannot continue.")
          return;
        }
        var ws = new WebSocket("ws://cselcik.com:8080/main")
        ws.onopen = onOpen;
        ws.onmessage = onMessage;
        ws.onerror = onError;
      }

      initialize();
    </script>
  </head>
  <body>
    <div id="output" style="height:100%;width:100%;border:1px solid #ccc;overflow:auto;">
      <p>Data will be displayed here as it is received...</p>
    </div>
  </body>
</html>
